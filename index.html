<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obter IP Local</title>
</head>
<body>
    <h1>IP Local (Rede Interna)</h1>
    <p id="local-ip">Carregando...</p>

    <script>
        function getLocalIP() {
            var RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
            if (RTCPeerConnection) {
                var rtc = new RTCPeerConnection({ iceServers: [] });
                rtc.createDataChannel('');
                rtc.createOffer(function(offer) {
                    rtc.setLocalDescription(offer);
                }, function(error) {
                    console.log(error);
                });

                rtc.onicecandidate = function(event) {
                    if (event.candidate) {
                        var ip = event.candidate.candidate.split(' ')[4];
                        document.getElementById('local-ip').innerText = 'IP Local: ' + ip;
                    }
                };
            }
        }

        getLocalIP();
    </script>
</body>
</html>
